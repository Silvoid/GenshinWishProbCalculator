<!DOCTYPE html>
<html>
<head>
	<!-- some basic stuff -->
	<title>Genshin Impact Wishing Probability Calculator</title>
	<link rel="stylesheet" href="styles.css">

	<!-- some technical stuff -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- webpage info -->
	<meta name="description" content="A calculator for calculating the probability of getting featured five-star characters and featured five-star weapons in the game known as &quot;Genshin Impact&quot;.">
	<meta name="google-site-verification" content="3CVSP8Hakxss8OYyj7jzPrGkhtWWQKvmSV_dICHlMy8" />

	<!-- some social stuff -->
	<meta property="og:title" content="Genshin Impact Wishing Probability Calculator">
	<meta property="og:description" content="A calculator for calculating the probability of getting featured five-star characters and featured five-star weapons in the game known as &quot;Genshin Impact&quot;.">
</head>
<body>

    <section class="interface-super-container"><div class="interface-container">    
        <h1 id="page-calculator-header" class="active page-screen-title"><span class="optional">Genshin Impact </span>Wish<span class="optional">ing</span> Probability Calculator</h1>
        <div id="wc-inner-page-main" class="active"><section id="wc-body">
            <section class="wc-form">
                <div>
                    <span class="section-text">Target<span class="optional"> Ranks</span></span>
                </div>
                <div class="icon-input">
                    <img height="32" src="media/icons/five-star-character.svg" alt="Character">
                    <select id="input-current-rank-character" name="CurrCharRank" aria-label="Current character constellations">
                        <option value="0" selected>None</option>
                        <option value="1">C0</option>
                        <option value="2">C1</option>
                        <option value="3">C2</option>
                        <option value="4">C3</option>
                        <option value="5">C4</option>
                        <option value="6">C5</option>
                        <option value="7">C6</option>
                    </select>
                    <img height="32" src="media/icons/arrow-right.svg" alt="To">
                    <select id="input-target-rank-character" name="TargetCharRank" aria-label="Current weapon refinement rank">
                        <option value="0" selected>None</option>
                        <option value="1">C0</option>
                        <option value="2">C1</option>
                        <option value="3">C2</option>
                        <option value="4">C3</option>
                        <option value="5">C4</option>
                        <option value="6">C5</option>
                        <option value="7">C6</option>
                    </select>
                </div>
                <div class="icon-input">
                    <img height="32" src="media/icons/five-star-weapon.svg" alt="Weapon">
                    <select id="input-current-rank-weapon" name="CurrWeapRank" aria-label="Current weapon refinement rank">
                        <option value="0" selected>None</option>
                        <option value="1">R1</option>
                        <option value="2">R2</option>
                        <option value="3">R3</option>
                        <option value="4">R4</option>
                        <option value="5">R5</option>
                    </select>
                    <img height="32" src="media/icons/arrow-right.svg" alt="To">
                    <select id="input-target-rank-weapon" name="TargetWeapRank" aria-label="Target weapon refinement rank">
                        <option value="0" selected>None</option>
                        <option value="1">R1</option>
                        <option value="2">R2</option>
                        <option value="3">R3</option>
                        <option value="4">R4</option>
                        <option value="5">R5</option>
                    </select>
                </div>
                
                <div>
                    <span class="section-text">Pity System</span>
                    <label for="input-guaranteed-character">Next <span class="optional">five-star (</span>5*<span class="optional">)</span> character?</label>
                    <select id="input-guaranteed-character" name="CharGuarantee">
                        <option value="false" selected>Not Guaranteed</option>
                        <option value="true">Guaranteed</option>
                    </select>
                    <label for="input-character-pity">Character pulls pity?</label>
					<input id="input-character-pity" name="PityCharPulls" class="input-number" value="" placeholder="0 out of 89">
                    <label for="input-character-pity">Radiance pity?</label>
					<input id="input-radiance-pity" name="PityRadiance" class="input-number" value="" placeholder="0 out of 3">
                    <label for="input-guaranteed-featured-weapon">Last <span class="optional">five-star (</span>5*<span class="optional">)</span> weapon?</label>
                    <select id="input-guaranteed-featured-weapon" name="WeapFeatureGuarantee">
                        <option value="false" selected>None</option>
                        <option value="true">Not Featured</option>
                        <option value="false">Featured</option>
                    </select>
                    <label for="input-weapons-pity">Weapon pulls pity?</label>
					<input id="input-weapons-pity" name="PityWeapPulls" class="input-number" value="" placeholder="0 out of 76">
                    <label for="input-guaranteed-specific-weapon">Epitomized path<span class="optional"> status</span>?</label>
                    <select id="input-guaranteed-specific-weapon" name="WeapSpecificGuarantee">
                        <option value="0" selected>0/1</option>
                        <option value="1">1/1</option>
                        <!-- <option value="2">2/2</option> -->
                    </select>
                </div>

                <div>
                    <span class="section-text">Pulls</span>
                    <label for="input-primogems">Primogems</label><input id="input-primogems" name="PullsPrimogems" class="input-number" value="0" placeholder="0">
                    <label for="input-intertwined-fates">Intertwined Fates</label><input id="input-intertwined-fates" name="PullsFates" class="input-number" value="0" placeholder="0">
                    <label for="input-starglitter">Starglitter</label><input id="input-starglitter" name="PullsStarglitter" class="input-number" value="0" placeholder="0">
                </div>
            </section>
            <section class="wc-results-block">
                <section class="wc-results">
                    <h3 id="text-wc-results">Results are displayed here.</h3>
                    <br>
                    <section>
                        <p id="text-wc-result-odds-success"></p>
                        <p id="text-wc-result-odds-failure"></p>
                    </section>
                    <br>
                    <p id="text-wc-result-description"></p>
                </section>
                <div class="grid-fit-rest buttons">
                    <button id="button-wc-calculate">Calculate</button>
                    <button id="button-wc-to-extra-info">
                        <!-- <img src="media/icons/external/info_black.svg" width="32" height="32" alt=""> -->
                    </button>
                </div>
                <span style="font-size: 0.7rem; text-align: center;">Calculation should take less than a second, but when targeting a very high number of copies, the page may appear unresponsive while it does calculate.</span>
            </section>
        </section></div>

        <section class="wc-info-block">
            <div style="display: flex; justify-content: center;">
                <button id="button-wc-to-main">Back to calculator</button>
            </div>
            <h2>What is this, and how does this work?</h2>
            <p>
                This is a calculator for probabilities of successfully acquiring a target number of featured/limited five-star characters, and/or featured/limited five-star weapons from wishing in the game, Genshin Impact.
            </p>
            <p>
                In a nutshell, this calculator can be compared to a simulator in terms of getting results, but without the random number generation, as it just iterates through the combinations/permutations of percentages (chances), multiplying and adding accordingly.
                Per this distinction, this should qualify as a calculator rather than a simulator. While "wishing for 5-stars" has a limit that is not too large, it is thus faster, and more accurate.
                Would you like <a id="wc-workings-info-verbose-link" href="#wc-workings-info-verbose">a more verbose answer</a>?
            </p>
            <div id="wc-workings-info-verbose" style="display: none;">
                <h3>A more verbose, though not complete, description:</h3>
                <p>An essential idea used for this calculator is "x*y=z" where x is the probability to acquire something specifically on "pull count A", y is the probability to acquire something specifically on "pull count B", and z is the probability to acquire something on the total pull count ("pull count A" + "pull count B") through that permutation of the pull counts. Since there are multiple pairings of pull counts that add up to the pull count of z, it would have to process a summation of all the possible permutations to get the total probability for that pull count.</p>
                <p>To explain further, we shall focus on calculating for featured five-star characters. To calculate, it will first get a distribution for which pull count the first copy would occur. To compute this distribution, imagine a list of pulls going from the first and to the last. From the start, there will be a starting population of 100%, the amount that has yet to encounter success. For each pull count, there is a percentage (the chance of getting the five-star on that pull count) of that population that will succeed, and be removed from the remaining population.</p>
                <p>When the pity gets cleaned by acquiring the first five-star, and there is more to go for, the calculator will combine what it has calculated with pre-calculated data, which describes the cumulative chance for each pull count to have successfully obtained the target number of copies after a clean pity, which was calculated with the code uploaded to this <a href="https://github.com/Silvoid/GenshinProbCalc">github repository</a>. Finally, it returns a result.</p>
                <p>The process for featured five-star weapon probabilities, though a bit more complex, has just about the same (non-exhaustive) description.</p>
                <p>If there are both more than zero copies to get on featured five-star characters, and specific featured five-star weapons, there'll be two distributions for the first copy of each, which will be combined, before going through the predefined set of data.</p>
            </div>
            <div>
                <h2>Notes</h2>
                <p>This calculator accounts for "single pulls", and not "multis (ten pulls)". With the mechanics, there is effectively no difference to the calculator in chance between going for, for example, C0 Mualani + C0 Kinich + C0 Xilonen (3 five stars) versus C2 Xilonen (3 five stars). In other words, while the target character copies selector is displayed as "go from constellation number to constellation number", it actually functions as "go from number of character copies to number of character copies", which means it would be solving for both scenarios of (a) going for multiple copies of just one character, and (b) any combination of multiple copies of different characters adding up to that number. However, for the latter scenario, there may be a slight difference in the actual chance as a real player is likely to do multis and not single pulls, where the calculator would be predicting for some ideal combination, while ten pulls could throw a few pulls off course.</p>
                <p>The weapon banner does not have the same "luxury" as the character banner with being able to also solve for getting from different banners. A significant part, specifically the epitomized path, of the weapon's pity mechanic can reset too variably.</p>
                <p>The calculator considers radiance to work as such: radiance pity goes up by one when 50/50 is lost, and it resets to zero when it's won. When a 50/50 is lost at 0/1/2/3 radiance pity, 0%/5%/50%/100% chance for the loss to turn into a win (or a total of 50%/52.5%/75%/100% chance to win the 50/50). <a href="https://www.reddit.com/r/Genshin_Impact/comments/1flac9n/capturing_radiance_theory_and_observations_to_date/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button">Reference</a>.</p>
                <p>At the time of writing this, there appears to be a <a href="https://www.reddit.com/r/Genshin_Impact/comments/1hd1sqa/understanding_genshin_impacts_capturing_radiance/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button">newer model</a> the calculator doesn't operate under. While its implementation is possible and may be, not sure, a rather simple modification to the calculator, that model is yet to completely provide the chances of winning from each count for radiance. For now, it's not such a high priority as it could just be a less than 0.1% difference in result for the calculator, because of how statistics average out over higher iterations. Its most important difference however is what the user should input as their pity for radiance. If you do not understand that model, but believe it more, and don't have a way to so easily find your pity for it, it is recommended to just input zero as your radiance pity, and just treat the radiance happening as a lucky happenstance, or input three if you lost three 50/50s in a row.</p>
                <p>For the current version, this calculator does not automatically account for "return wishes", wherein "starglitter" can be acquired from pulling, and be exchanged for more pulls to be done for the target(s).</p>
                <p>Per technical limitations, the calculator loses accuracy as a chance becomes less and less likely. Specifically, its result will be rounded to 12 decimal places (in decimal, non-percent form). This means to say that something with 1 in a trillion or less likely odds will probably just be rounded to zero.</p>
                <p>The calculator has some set bounds for setting inputs to the necessary minimum or maximum.</p>
            </div>
            <div>
                <h2>Github Repository</h2>
                <p>
                    This calculator's files are posted on Github. You may see the files (and code) in <a href="https://github.com/Silvoid/GenshinWishProbCalculator">the github repository</a>.
                    If issues are found, it should be possible to post in <a href="https://github.com/Silvoid/GenshinWishProbCalculator/issues">the issues section</a>.
                </p>
            </div>
            <div>
                <h2>Sources Of Information</h2>
                <p>
                    This calculator was made based on information from
					<a href="https://www.hoyolab.com/article/497840">an article by genshin-wishes.com on hoyolab</a>,
					and <a href="https://genshin-impact.fandom.com/wiki/Wishes">a page on the fandom wiki.</a>
                </p>
            </div>
            <div>
                <hr>
                <br>
                <h3>Other info...</h3>
                <p>Last Updated: December 25, 2024. Genshin 5.0+</p>
            </div>
        </section>

        <section></section>
    </div></section>

    <footer></footer>

	
	<!-- scripts -->
	<script src="javascript/generic.js"></script>
	<script src="javascript/style.js"></script>
	<script src="javascript/initiation.js"></script>
	<script src="javascript/calculator.js"></script>
</body>
</html>
